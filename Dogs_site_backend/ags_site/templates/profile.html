{% extends 'base_template.html' %}
{% load staticfiles %}
{% block content %}
    <div class="container-fluid p-0">
        <img class="main-background" src="{% static 'images/auth.jpg' %}" alt="Фоновая картинка"/>
    </div>
    <h2 class="display-4 text-black text-center logo-title-4 mt-3">
        Ваш профиль
    </h2>
    <div class="container-fluid w-100 mb-5">
        <div class="row">
            <div class="col-3 mt-3"><img src="{{ walker.photo.url }}" class="bordered"/></div>
            <div class="col-2 p-0 ml-1 mr-0 mt-3 justify-content-end">
                <p class="display-4-5 ml-3">{{ walker.user.get_full_name }}</p>
                <p class="ml-3">Дата рождения: {{ walker.birth_date|date:"d.m.Y" }}</p>
                <p class="ml-3">Телефон: {{ walker.phone }}</p>
                <p class="ml-3">Email: {{ walker.user.email }}</p>
            </div>
            <div class="col-6 pl-0 ">
                <div class="row-fluid is-change-enabled">
                    <p>Изменение дат выгула:
                        {% if walker.can_change_dates %}
                            <span style="color:green">возможно</span>
                        {% else %}
                            <span style="color:red">невозможно</span>
                        {% endif %}
                    </p>
                </div>
                <div class="row-fluid">
                    <div class="calendar-carousel mt-3 mb-5">
                        {% for month in walker.get_walking_dates %}
                            <div id="month-{{ forloop.counter0 }}" class="calendar-carousel-cell active">
                                <div class="container">
                                    <div class="row calendar-row">
                                        {% for i in i|rjust:17 %}
                                            {% if forloop.counter0 == 0 %}
                                                <div class="col calendar-col">&nbsp;</div>
                                            {% else %}
                                                <div class="col calendar-col">{{ forloop.counter0|add:6 }}</div>
                                            {% endif %}
                                        {% endfor %}
                                    </div>
                                    {% for week in month %}
                                        {% for day in week %}
                                            <div id="day-{{ day.0 }}" class="row calendar-row">
                                                <div class="col calendar-col-h">{{ day.0 }}</div>
                                                {% for walking in day.1 %}
                                                    <div {% if walking.dog_owner_name %}data-container="body"
                                                         data-toggle="popover" data-placement="top"
                                                         data-content="{{ walking.dog_owner_name }} - {{ walking.street }}"
                                                         {% endif %}id="hour-{{ forloop.counter0 }}"
                                                         class="{% if not walker.can_change_dates %}hour-disabled {% endif %}far-area col calendar-col{% if walking.dog_owner_name %} hour-booked





                                                             {% else %}{% if not walking.is_free %} hour-activated {% endif %}{% endif %}">
                                                    </div>
                                                {% endfor %}
                                            </div>
                                        {% endfor %}
                                        <div class="calendar-border"></div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
                <div class="row-fluid d-flex justify-content-center">
                    <form action="/profile/" method="POST" class="walking-dates-form">{% csrf_token %}
                        {{ form.as_p }}
                        <button type="submit" class="btn btn-save-profile">
                            Сохранить
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
{% endblock %}